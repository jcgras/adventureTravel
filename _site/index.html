<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Navigation Structure - Documentation</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Navigation Structure | Documentation</title> <meta name="generator" content="Jekyll v3.8.6" /> <meta property="og:title" content="Navigation Structure" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/" /> <meta property="og:url" content="http://localhost:4000/" /> <meta property="og:site_name" content="Documentation" /> <script type="application/ld+json"> {"headline":"Navigation Structure","@type":"WebSite","url":"http://localhost:4000/","name":"Documentation","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Documentation </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="http://localhost:4000/" class="navigation-list-link active">Navigation Structure</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Documentation" aria-label="Search Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="//github.com/pmarsceill/just-the-docs">Just the Docs on GitHub</a></li> </ul> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <h1 class="no_toc" id="adventure-travel---react-native-template"> <a href="#adventure-travel---react-native-template" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Adventure Travel - React Native Template </h1> <p>With <strong>Adventure Travel</strong> template we want to offert more than a set of components and styles. We have carefully created a project where we aim to provide a simple structure for any kind of React Native project, allowing you to adapt, reuse and create react native components easily.</p> <p>For this project we have been inspired by a travel agency, however, we intend that this template can also be used in a wide range of businesses. If you had a web page for your business, <strong>Adventure Travel</strong> supports you to convert/extend your current websites to mobile app efficiently.</p> <h2 class="no_toc" id="what-do-we-support-in-general"> <a href="#what-do-we-support-in-general" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> What do we support in general? </h2> <ul> <li>Support for iOs and Android</li> <li>React Native with JSX</li> <li>Redux</li> <li>Backend integration with Firebase</li> <li>Push Notifications via Firebase</li> <li>Maps and Geolocation</li> <li>Google APIs integration</li> <li>Social logins via facebook or Google</li> <li>Flexible variable uses via config file</li> </ul> <h2 class="no_toc" id="reference-links"> <a href="#reference-links" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Reference links </h2> <p>Try a demo App, avalilable download on Appstore and Google Play:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Purchase or more info</th> <th><a href="https://1.envato.market/xxxx">Adventure Travel</a></th> </tr> </thead> <tbody> <tr> <td>Documentation</td> <td><a href="https://docs.svalbard.dev">https://docs.svalbard.dev</a></td> </tr> <tr> <td>iOS demo</td> <td>https://itunes.apple.com/in/app/adventureTravel/id999999999</td> </tr> <tr> <td>Android demo</td> <td>https://play.google.com/store/apps/details?id=com.svalvard.adventureTravel</td> </tr> </tbody> </table></div> <h1 class="no_toc" id="navigation-structure"> <a href="#navigation-structure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Navigation Structure </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#quick-start" id="markdown-toc-quick-start">Quick start</a></li> <li><a href="#backend-configuration" id="markdown-toc-backend-configuration">Backend configuration</a></li> <li><a href="#app-configuration" id="markdown-toc-app-configuration">App configuration</a></li> <li><a href="#project-structure" id="markdown-toc-project-structure">Project structure</a> <ol> <li><a href="#application-modules" id="markdown-toc-application-modules">Application modules</a></li> <li><a href="#one-place-for-static-images" id="markdown-toc-one-place-for-static-images">One place for static images</a></li> </ol> </li> <li><a href="#redux-one-state-to-rule-them-all" id="markdown-toc-redux-one-state-to-rule-them-all">Redux, one state to rule them all</a> <ol> <li><a href="#actions" id="markdown-toc-actions">Actions</a></li> <li><a href="#reducers" id="markdown-toc-reducers">Reducers</a></li> <li><a href="#store" id="markdown-toc-store">Store</a></li> </ol> </li> <li><a href="#components" id="markdown-toc-components">Components</a> <ol> <li><a href="#connecting-the-components-to-the-store" id="markdown-toc-connecting-the-components-to-the-store">Connecting the components to the store</a></li> </ol> </li> <li><a href="#screenspages" id="markdown-toc-screenspages">Screens/Pages</a></li> </ol> <hr /> <h2 id="quick-start"> <a href="#quick-start" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Quick start </h2> <p>Install for iOs / install for Android</p> <hr /> <h2 id="backend-configuration"> <a href="#backend-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Backend configuration </h2> <p>Firebase configuration.</p> <hr /> <h2 id="app-configuration"> <a href="#app-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> App configuration </h2> <p>If you need to use enviroment variables like URLs, API keys, usernames, passwords or any other parameter in your app, we include in the project the <code class="highlighter-rouge">.env</code> file to store it. We use the <code class="highlighter-rouge">react-native-dotenv</code> <a href="https://www.npmjs.com/package/react-native-dotenv">package</a> to import the configuration variables from a <code class="highlighter-rouge">.env</code> file. If you need to use the Google Map Service, for example, you must to include the <code class="highlighter-rouge">GOOGLE_MAPS_API_KEY</code> variable with the API key value. (<em>You can see how to get a Google Maps API key from this <a href="https://developers.google.com/maps/documentation/embed/get-api-key">link</a>.</em>)</p> <p><em>/.env</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">GOOGLE_MAPS_API_KEY</span><span class="o">=</span><span class="nx">YourApiKeyValueHere</span>
<span class="nx">ANOTHER_CONFIG</span><span class="o">=</span><span class="kc">true</span>
</code></pre></div></div> <p>You can then import and use any of the defined variables.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">GOOGLE_MAPS_API_KEY</span><span class="p">,</span> <span class="nx">ANOTHER_CONFIG</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native-dotenv</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div> <p>If you have a separate development and production environment, that requires different configuration variables, you can use an <code class="highlighter-rouge">.env</code> file for the development/test environment variables and another <code class="highlighter-rouge">.env.production</code> file for the production environment variables.</p> <hr /> <h2 id="project-structure"> <a href="#project-structure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Project structure </h2> <blockquote> <p>A structure must be simple enough for new team members to quickly get on board and immerse themselves into the project.</p> </blockquote> <p>React’s ecosystem offers users complete control over everything, without being tied to any particular way of doing things. However, whenever we work on a React project it is necessary to use some kind of consensus to organize the source code. With this in mind, we believe that the ideal React project structure is the one that allows you to move around your code with the least amount of effort. Following this principle, <strong>Adventure Travel</strong> is made up of a simple project structure that allows you to easily scalate, adapt, reuse and create React Native components. In any case, you are welcome to adjust it for your own use case.</p> <h3 id="application-modules"> <a href="#application-modules" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Application modules </h3> <p>In the project source (on the <code class="highlighter-rouge">src</code> folder) we have the main folders where all the elements of the application are organized.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Folder</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><em>common</em></td> <td>It contains the common elements such as global styles, colors, utils, etc.</td> </tr> <tr> <td><em>components</em></td> <td>components</td> </tr> <tr> <td><em>images</em></td> <td>It contains the static images used in the project such as illustrations, logos, etc.</td> </tr> <tr> <td><em>navigation</em></td> <td>navigation</td> </tr> <tr> <td><em>redux</em></td> <td>redux</td> </tr> <tr> <td><em>screens</em></td> <td>screens</td> </tr> </tbody> </table></div> <p>You have probably noticed that in each of these folders the files <code class="highlighter-rouge">index.js</code> and <code class="highlighter-rouge">package.json</code> are included. Both files are used to export and define the module with global access within the project.</p> <p><img src="/images/package_structure.png" alt="Image" /></p> <p>In the <code class="highlighter-rouge">index.js</code> file we must include all the module reference (imports) and then export it to make it visible outside the folder.</p> <p><em>/src/common/index.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Styles</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Styles</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Color</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Color</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Device</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Device</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Images</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Images</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Coordinates</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Coordinates</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Util</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Util</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="p">{</span> <span class="nx">Styles</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">Device</span><span class="p">,</span> <span class="nx">Images</span><span class="p">,</span> <span class="nx">Coordinates</span><span class="p">,</span> <span class="nx">Util</span> <span class="p">}</span>
</code></pre></div></div> <p>Also using the <code class="highlighter-rouge">package.json</code> file we can define the name of the package as global and use it anywhere in the project.</p> <p><em>/src/common/package.json</em></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@common"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Now if you need to import something (like <code class="highlighter-rouge">Color</code>) from the <code class="highlighter-rouge">common</code> module you can refered it using <code class="highlighter-rouge">@common</code> route instead of all the static route.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Color</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@common</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">primaryColor</span> <span class="o">=</span> <span class="nx">Color</span><span class="p">.</span><span class="nx">primary</span><span class="p">;</span>
</code></pre></div></div> <h3 id="one-place-for-static-images"> <a href="#one-place-for-static-images" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> One place for static images </h3> <p>In any mobile application project it is necessary to use static image files (embedded in the app) instead of always downloading them from the Internet. This applies mainly for image files such as illustrations, logos, icons, etc. For this reason we have included a single folder to store all the embedded image files, located in the path: <code class="highlighter-rouge">/src/images</code>. We have included also the <code class="highlighter-rouge">Images.js</code> file in the <code class="highlighter-rouge">@common</code> module to export the reference of all the static images, located in the images folder.</p> <p><img src="/images/imageReference.png" alt="Image" /></p> <p><em>/src/common/Images.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="na">logoWhite</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@images/logos/logoWhite.png</span><span class="dl">"</span><span class="p">),</span>
    <span class="na">IllustSettings</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@images/illustrations/settings.png</span><span class="dl">"</span><span class="p">),</span>
<span class="p">}</span>
</code></pre></div></div> <p>Whenever you need to use a static image just reference <code class="highlighter-rouge">Images</code> from the <code class="highlighter-rouge">@common</code> module.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Images</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@common</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Image</span> <span class="nx">source</span><span class="o">=</span><span class="p">{</span><span class="nx">Images</span><span class="p">.</span><span class="nx">logoWhite</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <hr /> <h2 id="redux-one-state-to-rule-them-all"> <a href="#redux-one-state-to-rule-them-all" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Redux, one state to rule them all </h2> <blockquote> <p>Redux handles the entire application data flow within a single container while the previous state persists as well.</p> </blockquote> <p>As an important part of our architecture, we include Redux for application status management. With Redux we can have one application state as a global state (“Single source of truth”), that includes all application data -like bookings and bookmarks- but also temporary states like search results, search history or popular destinations.</p> <!-- | ![Image](/images/redux_states.png) | |:--:| | *Tree view from [React Native Debugger](https://github.com/jhen0409/react-native-debugger)* | --> <div class="code-example"> <p><img src="/images/redux_states.png" alt="Image" /></p> <p><em>Tree view from <a href="https://github.com/jhen0409/react-native-debugger">React Native Debugger</a></em></p> </div> <p>To use this library (actually Redux is a library) a <code class="highlighter-rouge">redux</code> module was created that includes the <code class="highlighter-rouge">actions</code> and <code class="highlighter-rouge">reducers</code> folders and the <code class="highlighter-rouge">store.js</code> file. Following the same logic as above, we have also included the <code class="highlighter-rouge">package.json</code> file for the module name.</p> <p><img src="/images/redux_module.png" alt="Image" /></p> <h3 id="actions"> <a href="#actions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Actions </h3> <p>The whole state of the app is stored in an object tree inside a single store. The only way to change the state tree is to emit an action, an object describing what happened. (<a href="https://redux.js.org/introduction/getting-started">Redux Documentation</a>)</p> <p>Following this principle, the <code class="highlighter-rouge">actions</code> folder has been created as a container for the action files of each data object. For example, we have included the <code class="highlighter-rouge">bookmarks.js</code> file for all actions that manage bookmarks objects (saved items). Inside this file we can find a set of functions (Action Creators) to manage each action, for example, adding a new bookmark. So actions are the information (Objects) and action creator are functions that return these actions.</p> <p><em>/src/redux/actions/bookmarks.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">addBookmark</span> <span class="o">=</span> <span class="nx">bookmark</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADD_BOOKMARK</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">payload</span><span class="p">:</span> <span class="nx">bookmark</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// .......</span>

<span class="k">export</span> <span class="p">{</span>
    <span class="c1">// .......</span>
    <span class="nx">addBookmark</span>
<span class="p">};</span>
</code></pre></div></div> <h3 id="reducers"> <a href="#reducers" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Reducers </h3> <p>Actions only tell what to do, but they don’t tell how to do, so reducers are the pure functions that take the current state and action and return the new state and tell the store how to do. To summarize, the reducers specify how the actions transform the state tree. We have included the <code class="highlighter-rouge">reducers</code> folder to group the reducers of each object.</p> <p><em>/src/redux/reducers/bookmarks.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">defaultState</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">function</span> <span class="nx">reducer</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">defaultState</span><span class="p">,</span> <span class="p">{</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">payload</span> <span class="p">})</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">"</span><span class="s2">SET_BOOKMARKS</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">payload</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">case</span> <span class="dl">"</span><span class="s2">ADD_BOOKMARK</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">[...</span><span class="nx">state</span><span class="p">,</span> <span class="nx">payload</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">case</span> <span class="dl">"</span><span class="s2">DELETE_BOOKMARK</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">payload</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">case</span> <span class="dl">"</span><span class="s2">CLEAR_BOOKMARKS</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">defaultState</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nl">default</span><span class="p">:</span>
            <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">reducer</span><span class="p">;</span>
</code></pre></div></div> <h3 id="store"> <a href="#store" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Store </h3> <p>Basically the store is the object which holds the state of the application. We have created the <code class="highlighter-rouge">store.js</code> file to include the single store for the entire application, as recommended by the Redux documentation:</p> <blockquote> <p>It’s important to note that you’ll only have a single store in a Redux application. When you want to split your data handling logic, you’ll use reducer composition instead of many stores. (<a href="https://redux.js.org/basics/store">Redux Documentation</a>)</p> </blockquote> <p>To start using the store instance you just need to import and call <code class="highlighter-rouge">createStore</code>.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">todoApp</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./reducers</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">todoApp</span><span class="p">)</span>
</code></pre></div></div> <p>But in our case we use multiple reducers and it is necessary to include the <code class="highlighter-rouge">combineReducers()</code> function to combine several reducers into one.</p> <p><em>/src/redux/store.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span><span class="p">,</span> <span class="nx">combineReducers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="k">import</span> <span class="nx">searchHistory</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./reducers/searchHistory</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">bookmarks</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./reducers/bookmarks</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">bookings</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./reducers/bookings</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="nx">combineReducers</span><span class="p">({</span>
    <span class="c1">// ...</span>
    <span class="nx">searchHistory</span><span class="p">,</span>
    <span class="nx">bookmarks</span><span class="p">,</span>
    <span class="nx">bookings</span>
<span class="p">});</span>
</code></pre></div></div> <p>We also use <code class="highlighter-rouge">Redux-Persist</code> to save the Redux store when the app is closed and <code class="highlighter-rouge">Redux-Thunk</code> middleware to write Action Creators that return a function instead of an action. This last element is the one that allows us to create actions such as <code class="highlighter-rouge">addBookmark</code> as functions.</p> <p><em>/src/redux/store.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">persistConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">root</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">storage</span><span class="p">:</span> <span class="nx">AsyncStorage</span><span class="p">,</span>
    <span class="na">whitelist</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">user</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">explore</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">categories</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">popular</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">searchHistory</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bookmarks</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bookings</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">config</span><span class="dl">"</span><span class="p">],</span>
    <span class="na">blacklist</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">composeEnhancers</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span> <span class="o">||</span> <span class="nx">compose</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">persistedReducer</span> <span class="o">=</span> <span class="nx">persistReducer</span><span class="p">(</span><span class="nx">persistConfig</span><span class="p">,</span> <span class="nx">reducer</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">persistedReducer</span><span class="p">,</span> <span class="nx">composeEnhancers</span><span class="p">(</span><span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">)));</span>
<span class="kd">let</span> <span class="nx">persistor</span> <span class="o">=</span> <span class="nx">persistStore</span><span class="p">(</span><span class="nx">store</span><span class="p">);</span>

<span class="k">export</span> <span class="p">{</span> <span class="nx">persistor</span><span class="p">,</span> <span class="nx">store</span> <span class="p">};</span>
</code></pre></div></div> <p>How the store is connected to the UI is specified below.</p> <hr /> <h2 id="components"> <a href="#components" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Components </h2> <p>As you probably know, React bases its architecture on components. That is: each piece of an app is handled as an isolated component (class or Hooks) where its own states, properties, styles and the access to the store are handled. With <strong>Adventure Travel</strong> you have a variety ready-to-use components to create your own mobile application. Components like <code class="highlighter-rouge">ButtonGradient</code>, <code class="highlighter-rouge">CardPopular</code> or <code class="highlighter-rouge">ImageCollage</code> can be found in the <code class="highlighter-rouge">/src/components</code> folder. Similarly we have created a folder to organize the components relating to the screens of the app: <code class="highlighter-rouge">/src/screens</code>. In this way we separate more atomic components like <code class="highlighter-rouge">ButtonGradient</code> from the more complex ones that compose a screen.</p> <p>Basically each component extends from <code class="highlighter-rouge">React.PureComponent</code> and implements a <code class="highlighter-rouge">render()</code> method where the UI is returned in <code class="highlighter-rouge">jsx</code> format.</p> <p><em>/src/components/ButtonBookmark/index.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ButtonBookmark</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PureComponent</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">ButtonBookmark</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">experienceId</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">content</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">alignSelf</span><span class="p">:</span> <span class="dl">"</span><span class="s2">flex-end</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">alignItems</span><span class="p">:</span> <span class="dl">"</span><span class="s2">flex-end</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">padding</span><span class="p">:</span> <span class="mi">8</span>
    <span class="p">},</span>
    <span class="na">icon</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">20</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div> <p>In each component we also include the use of <code class="highlighter-rouge">propTypes</code> to declare the properties required by the component and its data type. When props are passed to a component, they are checked against the type definitions configured in the propTypes property. When an invalid value is passed for a prop, a warning is displayed on the console.</p> <p>Likewise, each component includes the reference to the component’s own styles using <code class="highlighter-rouge">StyleSheet</code> within the same file. Using the constant <code class="highlighter-rouge">styles</code> you can access the styles inside each component.</p> <h3 id="connecting-the-components-to-the-store"> <a href="#connecting-the-components-to-the-store" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Connecting the components to the store </h3> <p>To connect the Redux store to the UI (components) we use the connect() function from <code class="highlighter-rouge">react-redux</code>. This function provides to the connected component the data it requires from the store, and the functions it can use to send actions to the store. If the component requires the use of an action that handles the state of the application, such as <code class="highlighter-rouge">addBookmark</code>, we can import the functions that we had already created in the <code class="highlighter-rouge">actions</code> folder.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">addBookmark</span><span class="p">,</span> <span class="nx">deleteBookmark</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@redux/actions/bookmarks</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">connect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-redux</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <p>Then we must create the <code class="highlighter-rouge">mapStateToProps</code> object to specify the properties we want to use from the global state and the <code class="highlighter-rouge">mapDispatchToProps</code> object to link the imported functions that act on the global state. We can then invoke the <code class="highlighter-rouge">connect</code> function using these objects as parameters and connect the component (<code class="highlighter-rouge">ButtonBookmark</code> in this example) to export it. This way you can access the declared properties to read the global state values and the functions to modify the global state.</p> <p><em>/src/components/ButtonBookmark/index.js</em></p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">addBookmark</span><span class="p">,</span> <span class="nx">deleteBookmark</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@redux/actions/bookmarks</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">connect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-redux</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ButtonBookmark</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PureComponent</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">mapStateToProps</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">bookmarks</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">bookmarks</span><span class="p">,</span>
        <span class="na">experiences</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">explore</span><span class="p">.</span><span class="nx">experienceResults</span><span class="p">.</span><span class="nx">experiences</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">mapDispatchToProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">addBookmark</span><span class="p">,</span>
    <span class="nx">deleteBookmark</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">connect</span><span class="p">(</span><span class="nx">mapStateToProps</span><span class="p">,</span> <span class="nx">mapDispatchToProps</span><span class="p">)(</span><span class="nx">ButtonBookmark</span><span class="p">);</span>
</code></pre></div></div> <p>Now within the functions of the component it is possible to access as a property to the global state of <code class="highlighter-rouge">bookmarks</code> (<code class="highlighter-rouge">this.props.bookmarks</code>) or <code class="highlighter-rouge">experiences</code> (<code class="highlighter-rouge">this.props.experiences</code>). Similarly, the functions <code class="highlighter-rouge">this.props.addBookmark</code> and <code class="highlighter-rouge">this.props.deleteBookmark</code> can be accessed as properties.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">booked</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">bookmarks</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">id</span> <span class="o">==</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">experienceId</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">TouchableOpacity</span>
            <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span>
            <span class="nx">onPress</span><span class="o">=</span><span class="p">{</span><span class="nx">booked</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">removeBookmark</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">addBookmark</span><span class="p">}</span>
        <span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Icon</span>
                <span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nx">booked</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">heart</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">hearto</span><span class="dl">"</span><span class="p">}</span>
                <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">booked</span> <span class="p">?</span> <span class="nx">Color</span><span class="p">.</span><span class="nx">heart</span> <span class="p">:</span> <span class="nx">Color</span><span class="p">.</span><span class="nx">background</span><span class="p">}</span>
                <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">icon</span><span class="p">}</span>
            <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/TouchableOpacity</span><span class="err">&gt;
</span>    <span class="p">);</span>
<span class="p">}</span>

<span class="nx">addBookmark</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">experience</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">experiences</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">id</span> <span class="o">==</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">experienceId</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">addBookmark</span><span class="p">(</span><span class="nx">experience</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">removeBookmark</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">deleteBookmark</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">experienceId</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> <hr /> <h2 id="screenspages"> <a href="#screenspages" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Screens/Pages </h2> <p>Use FlatList.</p> <p>react-navigation — Application navigation Navigation structure</p> <hr /> <p>Also we include:</p> <ul> <li>Easy customization for your brand</li> <li>Firebase Synchronize</li> <li>Instant Search</li> <li>Support filter by category, tab and pricing</li> <li>Search history and clean up</li> <li>Bookmarks and sync across devices</li> <li>User Profile</li> <li>Walkthrough animation</li> <li>Header animation</li> <li>Easy to change colors and styles</li> <li>Support to build app via Expo or react-native-cli</li> <li>Regular feature update and free bug fix</li> </ul> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 Svalbard. Distributed by an <a href="https://github.com/pmarsceill/just-the-docs/tree/master/LICENSE.txt">MIT license.</a></p> </footer> </div> </div> </div> </div> </body> </html>
